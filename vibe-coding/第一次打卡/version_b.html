<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è´ªåƒè›‡æ¸¸æˆ - ç‰ˆæœ¬Bï¼ˆè¿›é˜¶ç‰ˆï¼‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .header h1 {
            color: #00ff88;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .version-tag {
            display: inline-block;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: #1a1a2e;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .nav-buttons {
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(0,255,136,0.3);
        }

        .play-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            padding: 15px 40px;
            border-radius: 30px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
        }

        .game-preview {
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
        }

        section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        h2 {
            color: #00ff88;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        h3 {
            color: #4facfe;
            margin: 25px 0 15px;
            font-size: 1.5em;
            border-left: 4px solid #4facfe;
            padding-left: 15px;
        }

        h4 {
            color: #ff6b6b;
            margin: 20px 0 10px;
            font-size: 1.2em;
        }

        p {
            margin-bottom: 15px;
            color: #ddd;
            line-height: 1.9;
        }

        .ai-prompt {
            background: linear-gradient(135deg, rgba(79, 172, 254, 0.2) 0%, rgba(0, 242, 254, 0.2) 100%);
            border-left: 4px solid #4facfe;
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .ai-prompt strong {
            color: #4facfe;
        }

        .code-block {
            background: #0d1117;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .code-block pre {
            color: #c9d1d9;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.8;
        }

        .code-block .comment {
            color: #8b949e;
        }

        .code-block .keyword {
            color: #ff7b72;
        }

        .code-block .string {
            color: #a5d6ff;
        }

        .code-block .function {
            color: #d2a8ff;
        }

        .code-block .highlight-line {
            background: rgba(255, 107, 107, 0.3);
            display: block;
            margin: 0 -20px;
            padding: 0 20px;
        }

        ul {
            margin: 15px 0 15px 30px;
        }

        li {
            margin-bottom: 12px;
            line-height: 1.8;
        }

        .phase {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
        }

        .phase-number {
            display: inline-block;
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #1a1a2e;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            text-align: center;
            line-height: 35px;
            font-weight: bold;
            margin-right: 15px;
        }

        .feature-comparison {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .feature-card h4 {
            color: #ff6b6b;
            margin-bottom: 10px;
        }

        .highlight {
            background: rgba(255, 107, 107, 0.2);
            padding: 3px 10px;
            border-radius: 4px;
            color: #ff6b6b;
            font-weight: bold;
        }

        .demo-section {
            background: rgba(79, 172, 254, 0.1);
            border: 2px dashed #4facfe;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .demo-section h4 {
            color: #4facfe;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        th {
            background: rgba(0,255,136,0.2);
            color: #00ff88;
        }

        .footer {
            text-align: center;
            padding: 30px;
            color: #aaa;
            margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .back-link {
            color: #00ff88;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .info-box {
            background: rgba(255, 193, 7, 0.2);
            border-left: 4px solid #ffc107;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .info-box strong {
            color: #ffc107;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-link">â† è¿”å›ä¸»æ–‡æ¡£</a>
            <h1 style="margin-top: 15px;">ğŸš€ ç‰ˆæœ¬ B - è¿›é˜¶è´ªåƒè›‡æ¸¸æˆ</h1>
            <span class="version-tag">è¿›é˜¶ç‰ˆæœ¬</span>
            <p>åŒ…å«ç”¨æˆ·ä½“éªŒä¼˜åŒ–ã€æ–°æ¸¸æˆæœºåˆ¶å’Œæ— é™åœ°å›¾çš„å®Œæ•´ç‰ˆæœ¬</p>
        </div>

        <div class="nav-buttons">
            <a href="game_b.html" class="play-btn">ğŸ® è¯•ç©ç‰ˆæœ¬B</a>
            <a href="version_a.html" class="nav-btn">ğŸ“Œ ç‰ˆæœ¬A</a>
            <a href="version_c.html" class="nav-btn">â­ ç‰ˆæœ¬C</a>
        </div>

        <section>
            <h2>ğŸ“‹ ç‰ˆæœ¬æ¦‚è¿°</h2>
            <p>ç‰ˆæœ¬Bæ˜¯è´ªåƒè›‡æ¸¸æˆçš„è¿›é˜¶ç‰ˆæœ¬ï¼Œåœ¨ç‰ˆæœ¬Açš„åŸºç¡€ä¸Šè¿›è¡Œäº†ä¸‰å¤§é˜¶æ®µçš„æ”¹è¿›ï¼š</p>
            
            <div class="feature-comparison">
                <div class="feature-card">
                    <h4>ç¬¬ä¸€é˜¶æ®µï¼šç”¨æˆ·ä½“éªŒæå‡</h4>
                    <ul>
                        <li>æ·»åŠ åˆ†æ•°æ˜¾ç¤ºåŒºåŸŸ</li>
                        <li>å¢åŠ æ¸¸æˆæ§åˆ¶æŒ‰é’®</li>
                        <li>ç¾åŒ–CSSç•Œé¢æ ·å¼</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>ç¬¬äºŒé˜¶æ®µï¼šæ¸¸æˆæœºåˆ¶å¢åŠ </h4>
                    <ul>
                        <li>éšæœºéšœç¢ç‰©ç³»ç»Ÿ</li>
                        <li>ç‰¹æ®Šé£Ÿç‰©ï¼ˆåŒå€åŠ åˆ†ï¼‰</li>
                        <li>é€Ÿåº¦å˜åŒ–æœºåˆ¶</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>ç¬¬ä¸‰é˜¶æ®µï¼šç»“æ„æ€§æ”¹è¿›</h4>
                    <ul>
                        <li>æ— é™/å¾ªç¯åœ°å›¾</li>
                        <li>è›‡å¤´ç©¿è¶Šè¾¹ç•Œ</li>
                        <li>åœ°å›¾è¾¹ç¼˜é€»è¾‘ä¼˜åŒ–</li>
                    </ul>
                </div>
            </div>

            <div class="game-preview">
                <a href="game_b.html" class="play-btn">ğŸ® ç«‹å³è¯•ç©ç‰ˆæœ¬B</a>
                <p style="margin-top: 15px; color: #aaa;">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ä½“éªŒå®Œæ•´çš„è¿›é˜¶ç‰ˆè´ªåƒè›‡æ¸¸æˆï¼</p>
            </div>
        </section>

        <!-- ç¬¬ä¸€é˜¶æ®µ -->
        <section>
            <h2><span class="phase-number">1</span>ç¬¬ä¸€é˜¶æ®µï¼šç”¨æˆ·ä½“éªŒæå‡</h2>
            <p>æœ¬é˜¶æ®µä¸»è¦ä¼˜åŒ–ç”¨æˆ·äº¤äº’ä½“éªŒï¼Œä¸æ”¹å˜æ¸¸æˆæ ¸å¿ƒéª¨æ¶ã€‚</p>

            <div class="phase">
                <h3>1.1 æ·»åŠ åˆ†æ•°æ˜¾ç¤º</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œæˆ‘çš„è´ªåƒè›‡ç°åœ¨èƒ½åƒè±†å­ï¼Œä½†æ²¡æ˜¾ç¤ºåˆ†æ•°ã€‚è¯·å¸®æˆ‘åœ¨HTMLé¡¶éƒ¨æ·»åŠ ä¸€ä¸ªåˆ†æ•°æ˜¾ç¤ºåŒºåŸŸï¼Œæ¯æ¬¡åƒåˆ°è±†å­ååˆ†æ•°åŠ 1ï¼Œå¹¶æ›´æ–°æ˜¾ç¤ºã€‚æˆ‘çš„JavaScripté‡Œæœ‰ä¸€ä¸ªå¤„ç†åƒè±†å­çš„å‡½æ•°ï¼Œå¤§æ¦‚åœ¨XXè¡Œé™„è¿‘ã€‚ã€
                </div>

                <h4>HTMLä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">&lt;</span><span class="function">div</span> <span class="keyword">class</span>=<span class="string">"game-info"</span><span class="keyword">&gt;</span>
    <span class="keyword">&lt;</span><span class="function">div</span><span class="keyword">&gt;</span>åˆ†æ•°: <span class="keyword">&lt;</span><span class="function">span</span> <span class="keyword">id</span>=<span class="string">"score"</span><span class="keyword">&gt;</span><span class="string">0</span><span class="keyword">&lt;/</span><span class="function">span</span><span class="keyword">&gt;&lt;/</span><span class="function">div</span><span class="keyword">&gt;</span>
    <span class="keyword">&lt;</span><span class="function">div</span><span class="keyword">&gt;</span>æœ€é«˜åˆ†: <span class="keyword">&lt;</span><span class="function">span</span> <span class="keyword">id</span>=<span class="string">"highScore"</span><span class="keyword">&gt;</span><span class="string">0</span><span class="keyword">&lt;/</span><span class="function">span</span><span class="keyword">&gt;&lt;/</span><span class="function">div</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;/</span><span class="function">div</span><span class="keyword">&gt;</span></pre>
                </div>

                <h4>JavaScriptä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">// æ›´æ–°åˆ†æ•°æ˜¾ç¤º</span>
<span class="keyword">function</span> <span class="function">updateScore</span>() {
    document.<span class="function">getElementById</span>(<span class="string">'score'</span>).textContent = score;
    
    <span class="comment">// æœ€é«˜åˆ†é€»è¾‘</span>
    <span class="keyword">if</span> (score > highScore) {
        highScore = score;
        document.<span class="function">getElementById</span>(<span class="string">'highScore'</span>).textContent = highScore;
    }
}

<span class="comment">// åœ¨åƒé£Ÿç‰©æ—¶è°ƒç”¨</span>
<span class="keyword">function</span> <span class="function">checkFood</span>() {
    <span class="keyword">const</span> head = snake[<span class="string">0</span>];
    <span class="keyword">if</span> (head.x === food.x && head.y === food.y) {
        score += <span class="string">1</span>;          <span class="comment">&lt;!-- é‡ç‚¹ä¿®æ”¹ --&gt;</span>
        <span class="function">updateScore</span>();      <span class="comment">&lt;!-- é‡ç‚¹ä¿®æ”¹ --&gt;</span>
        snake.<span class="function">push</span>({...snake[snake.length - <span class="string">1</span>]});
        <span class="function">generateFood</span>();
    }
}</pre>
                </div>

                <div class="demo-section">
                    <h4>ğŸ“Š åˆ†æ•°æ˜¾ç¤ºæ•ˆæœé¢„è§ˆ</h4>
                    <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 10px; text-align: center;">
                        <div style="display: inline-block; background: #333; color: #00ff88; padding: 10px 30px; border-radius: 8px; margin: 5px;">
                            <strong>åˆ†æ•°:</strong> <span id="demoScore1">0</span>
                        </div>
                        <div style="display: inline-block; background: #333; color: #ffc107; padding: 10px 30px; border-radius: 8px; margin: 5px;">
                            <strong>æœ€é«˜åˆ†:</strong> <span id="demoHighScore1">0</span>
                        </div>
                        <br>
                        <button onclick="addScoreDemo()" style="margin-top: 15px; padding: 10px 25px; background: #00ff88; border: none; border-radius: 5px; cursor: pointer; font-weight: bold;">æ¨¡æ‹Ÿåƒé£Ÿç‰© (+1åˆ†)</button>
                        <button onclick="resetScoreDemo()" style="margin-top: 15px; padding: 10px 25px; background: #ff6b6b; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; margin-left: 10px;">é‡ç½®</button>
                    </div>
                </div>
            </div>

            <div class="phase">
                <h3>1.2 å¢åŠ æ¸¸æˆçŠ¶æ€æ§åˆ¶</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œæˆ‘æƒ³å¢åŠ å¼€å§‹ã€æš‚åœã€é‡æ–°å¼€å§‹æŒ‰é’®ã€‚ç›®å‰æ¸¸æˆæ˜¯æ‰“å¼€å°±è‡ªåŠ¨è¿è¡Œçš„ã€‚è¯·å¸®æˆ‘æ·»åŠ ä¸‰ä¸ªæŒ‰é’®ï¼Œå¹¶è®©å®ƒä»¬èƒ½æ§åˆ¶æ¸¸æˆçš„å¼€å§‹ã€æš‚åœå’Œé‡ç½®ï¼ˆè›‡å’Œåˆ†æ•°å›åˆ°åˆå§‹çŠ¶æ€ï¼‰ã€‚ã€
                </div>

                <h4>HTMLä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">&lt;</span><span class="function">button</span> <span class="keyword">id</span>=<span class="string">"startBtn"</span><span class="keyword">&gt;</span>å¼€å§‹æ¸¸æˆ<span class="keyword">&lt;/</span><span class="function">button</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;</span><span class="function">button</span> <span class="keyword">id</span>=<span class="string">"pauseBtn"</span><span class="keyword">&gt;</span>æš‚åœæ¸¸æˆ<span class="keyword">&lt;/</span><span class="function">button</span><span class="keyword">&gt;</span>
<span class="keyword">&lt;</span><span class="function">button</span> <span class="keyword">id</span>=<span class="string">"restartBtn"</span><span class="keyword">&gt;</span>é‡æ–°å¼€å§‹<span class="keyword">&lt;/</span><span class="function">button</span><span class="keyword">&gt;</span></pre>
                </div>

                <h4>JavaScriptä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">let</span> gameRunning = <span class="keyword">false</span>;
<span class="keyword">let</span> isPaused = <span class="keyword">false</span>;

<span class="keyword">function</span> <span class="function">startGame</span>() {
    <span class="keyword">if</span> (gameRunning) <span class="keyword">return</span>;
    
    <span class="comment">// åˆå§‹åŒ–æ¸¸æˆçŠ¶æ€</span>
    snake = [
        {x: <span class="string">10</span>, y: <span class="string">10</span>},
        {x: <span class="string">9</span>, y: <span class="string">10</span>},
        {x: <span class="string">8</span>, y: <span class="string">10</span>}
    ];
    dx = <span class="string">1</span>; dy = <span class="string">0</span>;
    score = <span class="string">0</span>;
    <span class="function">updateScore</span>();
    <span class="function">generateFood</span>();
    
    gameRunning = <span class="keyword">true</span>;
    isPaused = <span class="keyword">false</span>;
    <span class="function">drawGame</span>();
}

<span class="keyword">function</span> <span class="function">togglePause</span>() {
    <span class="keyword">if</span> (!gameRunning) <span class="keyword">return</span>;
    
    isPaused = !isPaused;
    <span class="keyword">if</span> (!isPaused) {
        <span class="function">drawGame</span>();
    }
}

<span class="keyword">function</span> <span class="function">restartGame</span>() {
    gameRunning = <span class="keyword">false</span>;
    isPaused = <span class="keyword">false</span>;
    <span class="function">startGame</span>();
}

<span class="comment">// æŒ‰é’®äº‹ä»¶ç»‘å®š</span>
document.<span class="function">getElementById</span>(<span class="string">'startBtn'</span>).addEventListener(<span class="string">'click'</span>, startGame);
document.<span class="function">getElementById</span>(<span class="string">'pauseBtn'</span>).addEventListener(<span class="string">'click'</span>, togglePause);
document.<span class="function">getElementById</span>(<span class="string">'restartBtn'</span>).addEventListener(<span class="string">'click'</span>, restartGame);

<span class="comment">// ç©ºæ ¼é”®æš‚åœ</span>
document.<span class="function">addEventListener</span>(<span class="string">'keydown'</span>, (e) => {
    <span class="keyword">if</span> (e.key === <span class="string">' '</span>) {
        <span class="function">togglePause</span>();
        e.preventDefault();
    }
});</pre>
                </div>
            </div>

            <div class="phase">
                <h3>1.3 ç¾åŒ–ç•Œé¢ï¼ˆCSSï¼‰</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œè¯·å¸®æˆ‘çš„è´ªåƒè›‡æ¸¸æˆæ·»åŠ ä¸€äº›åŸºæœ¬çš„CSSæ ·å¼ã€‚è®©è›‡èº«æ˜¯ç»¿è‰²çš„ï¼Œé£Ÿç‰©æ˜¯çº¢è‰²çš„ï¼Œæ¸¸æˆåŒºåŸŸæœ‰ä¸€ä¸ªè¾¹æ¡†ã€‚è®©æ•´ä½“çœ‹èµ·æ¥æ›´æ•´æ´ä¸€äº›ã€‚ã€
                </div>

                <h4>CSSæ ·å¼ä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">/* æ¸¸æˆå®¹å™¨æ ·å¼ */</span>
<span class="keyword">.game-container</span> {
    <span class="function">text-align</span>: center;
    <span class="function">padding</span>: <span class="string">30px</span>;
    <span class="function">background</span>: <span class="string">rgba(255, 255, 255, 0.1)</span>;
    <span class="function">border-radius</span>: <span class="string">20px</span>;
    <span class="function">backdrop-filter</span>: <span class="string">blur(10px)</span>;
}

<span class="comment">/* è›‡èº«æ ·å¼ */</span>
<span class="keyword">#gameCanvas</span> <span class="keyword">è›‡</span> {
    <span class="function">fillStyle</span>: <span class="string">'green'</span>;
    <span class="function">border-radius</span>: <span class="string">5px</span>;
}

<span class="comment">/* é£Ÿç‰©æ ·å¼ */</span>
<span class="keyword">#gameCanvas</span> <span class="keyword">é£Ÿç‰©</span> {
    <span class="function">fillStyle</span>: <span class="string">'red'</span>;
    <span class="function">border-radius</span>: <span class="string">50%</span>;
}

<span class="comment">/* æ¸¸æˆåŒºåŸŸè¾¹æ¡† */</span>
<span class="keyword">#gameCanvas</span> {
    <span class="function">border</span>: <span class="string">3px solid #00ff88</span>;
    <span class="function">border-radius</span>: <span class="string">10px</span>;
    <span class="function">box-shadow</span>: <span class="string">0 0 20px rgba(0, 255, 136, 0.3)</span>;
}

<span class="comment">/* æŒ‰é’®æ ·å¼ */</span>
<span class="keyword">.btn</span> {
    <span class="function">padding</span>: <span class="string">12px 30px</span>;
    <span class="function">font-size</span>: <span class="string">1.1em</span>;
    <span class="function">background</span>: <span class="string">linear-gradient(135deg, #00ff88 0%, #00cc6a 100%)</span>;
    <span class="function">border</span>: <span class="string">none</span>;
    <span class="function">border-radius</span>: <span class="string">25px</span>;
    <span class="function">cursor</span>: pointer;
    <span class="function">transition</span>: <span class="string">all 0.3s ease</span>;
}

<span class="keyword">.btn:hover</span> {
    <span class="function">transform</span>: <span class="string">scale(1.05)</span>;
}</pre>
                </div>

                <div class="demo-section">
                    <h4>ğŸ¨ CSSæ ·å¼é¢„è§ˆ</h4>
                    <div style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding: 30px; border-radius: 10px; text-align: center;">
                        <div style="display: inline-block; background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px; backdrop-filter: blur(10px);">
                            <h3 style="color: #00ff88; margin-bottom: 20px;">ğŸ è´ªåƒè›‡æ¸¸æˆ</h3>
                            <div style="display: flex; justify-content: space-around; margin-bottom: 20px; color: #fff;">
                                <div style="background: rgba(0,0,0,0.3); padding: 10px 20px; border-radius: 10px;">
                                    <strong>åˆ†æ•°:</strong> <span id="demoScore2">0</span>
                                </div>
                                <div style="background: rgba(0,0,0,0.3); padding: 10px 20px; border-radius: 10px;">
                                    <strong>æœ€é«˜åˆ†:</strong> <span id="demoHighScore2">0</span>
                                </div>
                            </div>
                            <canvas id="demoCanvas" width="200" height="200" style="border: 3px solid #00ff88; border-radius: 10px; background: #0a0a1a;"></canvas>
                            <div style="margin-top: 20px;">
                                <button style="padding: 10px 25px; background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%); border: none; border-radius: 25px; cursor: pointer; font-weight: bold; color: #1a1a2e;">å¼€å§‹</button>
                                <button style="padding: 10px 25px; background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border: none; border-radius: 25px; cursor: pointer; font-weight: bold; margin-left: 10px;">æš‚åœ</button>
                                <button style="padding: 10px 25px; background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); border: none; border-radius: 25px; cursor: pointer; font-weight: bold; margin-left: 10px;">é‡ç½®</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ç¬¬äºŒé˜¶æ®µ -->
        <section>
            <h2><span class="phase-number">2</span>ç¬¬äºŒé˜¶æ®µï¼šå¢åŠ æ¸¸æˆæœºåˆ¶</h2>
            <p>æœ¬é˜¶æ®µå¢åŠ æ–°çš„æ¸¸æˆå…ƒç´ ï¼Œå¯èƒ½éœ€è¦å¯¹æ ¸å¿ƒéª¨æ¶è¿›è¡Œå¾®è°ƒã€‚</p>

            <div class="phase">
                <h3>2.1 å¢åŠ éšœç¢ç‰©</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œæˆ‘æƒ³åœ¨æ¸¸æˆåœ°å›¾é‡Œéšæœºç”Ÿæˆå‡ ä¸ªä¸å¯é€šè¿‡çš„éšœç¢ç‰©ï¼ˆå¢™å£ï¼‰ã€‚è›‡æ’ä¸Šéšœç¢ç‰©ä¹Ÿä¼šæ¸¸æˆç»“æŸã€‚è¯·å¸®æˆ‘ä¿®æ”¹é£Ÿç‰©ç”Ÿæˆé€»è¾‘ï¼Œè®©å®ƒä¹Ÿèƒ½ç”Ÿæˆéšœç¢ç‰©ï¼Œå¹¶ä¿®æ”¹ç¢°æ’æ£€æµ‹å‡½æ•°ï¼ŒæŠŠéšœç¢ç‰©ä¹ŸåŠ è¿›å»ã€‚ã€
                </div>

                <h4>æ•°æ®ç»“æ„æ‰©å±•ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">// éšœç¢ç‰©æ•°ç»„</span>
<span class="keyword">let</span> obstacles = [];

<span class="comment">// ç”Ÿæˆéšœç¢ç‰©</span>
<span class="keyword">function</span> <span class="function">generateObstacles</span>(count = <span class="string">5</span>) {
    obstacles = [];
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="string">0</span>; i < count; i++) {
        <span class="keyword">let</span> obstacle;
        <span class="keyword">do</span> {
            obstacle = {
                x: <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * tileCount),
                y: <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * tileCount)
            };
        } <span class="keyword">while</span> (
            <span class="function">isPositionOnSnake</span>(obstacle) || 
            <span class="function">isPositionOnObstacles</span>(obstacle) ||
            <span class="function">isNearStart</span>(obstacle)  <span class="comment">// è¿œç¦»è›‡çš„åˆå§‹ä½ç½®</span>
        );
        obstacles.<span class="function">push</span>(obstacle);
    }
}</pre>
                </div>

                <h4>ç¢°æ’æ£€æµ‹æ‰©å±•ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">checkCollision</span>() {
    <span class="keyword">const</span> head = snake[<span class="string">0</span>];
    
    <span class="comment">// æ’å¢™æ£€æµ‹ï¼ˆå¦‚æœæ˜¯æ— é™åœ°å›¾åˆ™è·³è¿‡ï¼‰</span>
    <span class="keyword">if</span> (!infiniteMap) {
        <span class="keyword">if</span> (head.x < <span class="string">0</span> || head.x >= tileCount || 
            head.y < <span class="string">0</span> || head.y >= tileCount) {
            <span class="function">gameOver</span>();
        }
    }
    
    <span class="comment">// æ’è‡ªå·±æ£€æµ‹</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="string">1</span>; i < snake.length; i++) {
        <span class="keyword">if</span> (head.x === snake[i].x && head.y === snake[i].y) {
            <span class="function">gameOver</span>();
        }
    }
    
    <span class="comment">// â˜… æ–°å¢ï¼šæ’éšœç¢ç‰©æ£€æµ‹</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> obstacle <span class="keyword">of</span> obstacles) {
        <span class="keyword">if</span> (head.x === obstacle.x && head.y === obstacle.y) {
            <span class="function">gameOver</span>();
        }
    }
}</pre>
                </div>

                <h4>ç»˜åˆ¶éšœç¢ç‰©ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">drawObstacles</span>() {
    ctx.<span class="function">fillStyle</span> = <span class="string">'#666'</span>;  <span class="comment">// ç°è‰²éšœç¢ç‰©</span>
    ctx.<span class="function">shadowColor</span> = <span class="string">'#333'</span>;
    ctx.<span class="function">shadowBlur</span> = <span class="string">5</span>;
    
    <span class="keyword">for</span> (<span class="keyword">let</span> obstacle <span class="keyword">of</span> obstacles) {
        ctx.<span class="function">beginPath</span>();
        ctx.<span class="function">roundRect</span>(
            obstacle.x * gridSize + <span class="string">1</span>,
            obstacle.y * gridSize + <span class="string">1</span>,
            gridSize - <span class="string">2</span>,
            gridSize - <span class="string">2</span>,
            <span class="string">3</span>
        );
        ctx.<span class="function">fill</span>();
    }
    
    ctx.<span class="function">shadowBlur</span> = <span class="string">0</span>;
}</pre>
                </div>

                <div class="demo-section">
                    <h4>ğŸ§± éšœç¢ç‰©æ•ˆæœé¢„è§ˆ</h4>
                    <canvas id="obstacleDemo" width="200" height="200" style="border: 3px solid #666; border-radius: 10px; background: #f0f0f0;"></canvas>
                    <p style="margin-top: 10px; color: #aaa;">ç°è‰²æ–¹å—è¡¨ç¤ºéšæœºç”Ÿæˆçš„éšœç¢ç‰©</p>
                </div>
            </div>

            <div class="phase">
                <h3>2.2 å¢åŠ ç‰¹æ®Šé£Ÿç‰©</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œæˆ‘æƒ³è®©é£Ÿç‰©æœ‰ä¸¤ç§ï¼šæ™®é€šé£Ÿç‰©ï¼ˆåŠ 1åˆ†ï¼‰å’Œç‰¹æ®Šé£Ÿç‰©ï¼ˆåŠ 5åˆ†ï¼Œå¹¶ä¸”åƒå®Œåè›‡çš„ç§»åŠ¨é€Ÿåº¦åœ¨5ç§’å†…å˜å¿«ï¼‰ã€‚ç‰¹æ®Šé£Ÿç‰©æ¯åƒ10ä¸ªæ™®é€šé£Ÿç‰©å‡ºç°ä¸€æ¬¡ï¼Œ10ç§’åæ¶ˆå¤±ã€‚è¯·å¸®æˆ‘æ‰©å±•é£Ÿç‰©å¯¹è±¡å’Œåƒé£Ÿç‰©çš„é€»è¾‘ã€‚ã€
                </div>

                <h4>é£Ÿç‰©ç±»å‹æšä¸¾ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">// é£Ÿç‰©ç±»å‹</span>
<span class="keyword">const</span> FOOD_TYPE = {
    NORMAL: <span class="string">'normal'</span>,
    SPECIAL: <span class="string">'special'</span>
};

<span class="comment">// é£Ÿç‰©æ•°æ®ç»“æ„æ‰©å±•</span>
<span class="keyword">let</span> food = {
    x: <span class="string">15</span>,
    y: <span class="string">15</span>,
    type: FOOD_TYPE.NORMAL,
    <span class="function">specialTimer</span>: <span class="string">null</span>   <span class="comment">// ç‰¹æ®Šé£Ÿç‰©æ¶ˆå¤±è®¡æ—¶å™¨</span>
};

<span class="comment">// ç‰¹æ®Šé£Ÿç‰©å‡ºç°æ¡ä»¶</span>
<span class="keyword">let</span> normalFoodEaten = <span class="string">0</span>;  <span class="comment">// åƒæ‰çš„æ™®é€šé£Ÿç‰©æ•°é‡</span>
<span class="keyword">const</span> SPECIAL_FREQUENCY = <span class="string">10</span>;  <span class="comment">// æ¯10ä¸ªæ™®é€šé£Ÿç‰©å‡ºç°ä¸€æ¬¡ç‰¹æ®Š</span></pre>
                </div>

                <h4>ç‰¹æ®Šé£Ÿç‰©ç”Ÿæˆé€»è¾‘ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">generateFood</span>() {
    <span class="comment">// æ£€æŸ¥æ˜¯å¦éœ€è¦ç”Ÿæˆç‰¹æ®Šé£Ÿç‰©</span>
    <span class="keyword">if</span> (normalFoodEaten > <span class="string">0</span> && 
        normalFoodEaten % SPECIAL_FREQUENCY === <span class="string">0</span> &&
        food.type !== FOOD_TYPE.SPECIAL) {
        
        <span class="comment">// ç”Ÿæˆç‰¹æ®Šé£Ÿç‰©</span>
        food.type = FOOD_TYPE.SPECIAL;
        <span class="function">generatePosition</span>();
        
        <span class="comment">// 10ç§’åè‡ªåŠ¨æ¶ˆå¤±</span>
        <span class="keyword">if</span> (food.specialTimer) <span class="function">clearTimeout</span>(food.specialTimer);
        food.specialTimer = <span class="function">setTimeout</span>(() => {
            <span class="keyword">if</span> (food.type === FOOD_TYPE.SPECIAL) {
                food.type = FOOD_TYPE.NORMAL;
                <span class="function">generateFood</span>();
            }
        }, <span class="string">10000</span>);
        
        <span class="keyword">return</span>;
    }
    
    <span class="comment">// ç”Ÿæˆæ™®é€šé£Ÿç‰©</span>
    food.type = FOOD_TYPE.NORMAL;
    normalFoodEaten = <span class="string">0</span>;
    <span class="function">generatePosition</span>();
}

<span class="keyword">function</span> <span class="function">generatePosition</span>() {
    <span class="keyword">do</span> {
        food.x = <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * tileCount);
        food.y = <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * tileCount);
    } <span class="keyword">while</span> (
        <span class="function">isFoodOnSnake</span>() || 
        <span class="function">isFoodOnObstacles</span>()
    );
}</pre>
                </div>

                <h4>åƒé£Ÿç‰©é€»è¾‘æ‰©å±•ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">checkFood</span>() {
    <span class="keyword">const</span> head = snake[<span class="string">0</span>];
    
    <span class="keyword">if</span> (head.x === food.x && head.y === food.y) {
        <span class="keyword">if</span> (food.type === FOOD_TYPE.SPECIAL) {
            <span class="comment">// ç‰¹æ®Šé£Ÿç‰©æ•ˆæœ</span>
            score += <span class="string">5</span>;
            <span class="function">activateSpeedBoost</span>();
            normalFoodEaten = <span class="string">0</span>;
        } <span class="keyword">else</span> {
            <span class="comment">// æ™®é€šé£Ÿç‰©æ•ˆæœ</span>
            score += <span class="string">1</span>;
            normalFoodEaten++;
        }
        
        <span class="function">updateScore</span>();
        snake.<span class="function">push</span>({...snake[snake.length - <span class="string">1</span>]});
        <span class="function">generateFood</span>();
    }
}

<span class="comment">// é€Ÿåº¦æå‡æ•ˆæœ</span>
<span class="keyword">let</span> originalSpeed = <span class="string">150</span>;
<span class="keyword">let</span> currentSpeed = originalSpeed;
<span class="keyword">let</span> speedBoostTimer = <span class="keyword">null</span>;

<span class="keyword">function</span> <span class="function">activateSpeedBoost</span>() {
    currentSpeed = <span class="string">80</span>;  <span class="comment">// åŠ é€Ÿ</span>
    
    <span class="keyword">if</span> (speedBoostTimer) <span class="function">clearTimeout</span>(speedBoostTimer);
    
    <span class="comment">// 5ç§’åæ¢å¤æ­£å¸¸é€Ÿåº¦</span>
    speedBoostTimer = <span class="function">setTimeout</span>(() => {
        currentSpeed = originalSpeed;
    }, <span class="string">5000</span>);
}</pre>
                </div>

                <h4>ç‰¹æ®Šé£Ÿç‰©ç»˜åˆ¶ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">drawFood</span>() {
    <span class="keyword">if</span> (food.type === FOOD_TYPE.SPECIAL) {
        <span class="comment">// ç‰¹æ®Šé£Ÿç‰©ï¼šé‡‘è‰²å‘å…‰åœ†çƒ</span>
        ctx.<span class="function">fillStyle</span> = <span class="string">'#ffd700'</span>;
        ctx.<span class="function">shadowColor</span> = <span class="string">'#ffd700'</span>;
        ctx.<span class="function">shadowBlur</span> = <span class="string">20</span>;
        
        ctx.<span class="function">beginPath</span>();
        ctx.<span class="function">arc</span>(
            food.x * gridSize + gridSize / <span class="string">2</span>,
            food.y * gridSize + gridSize / <span class="string">2</span>,
            gridSize / <span class="string">2</span> - <span class="string">2</span>,
            <span class="string">0</span>,
            Math.PI * <span class="string">2</span>
        );
        ctx.<span class="function">fill</span>();
    } <span class="keyword">else</span> {
        <span class="comment">// æ™®é€šé£Ÿç‰©ï¼šçº¢è‰²æ–¹å—</span>
        ctx.<span class="function">fillStyle</span> = <span class="string">'#ff4444'</span>;
        ctx.<span class="function">shadowColor</span> = <span class="string">'#ff4444'</span>;
        ctx.<span class="function">shadowBlur</span> = <span class="string">10</span>;
        
        ctx.<span class="function">beginPath</span>();
        ctx.<span class="function">arc</span>(
            food.x * gridSize + gridSize / <span class="string">2</span>,
            food.y * gridSpeed</span> / <span class="string">2</span>,
            gridSize / <span class="string">2</span> - <span class="string">2</span>,
            <span class="string">0</span>,
            Math.PI * <span class="string">2</span>
        );
        ctx.<span class="function">fill</span>();
    }
    
    ctx.<span class="function">shadowBlur</span> = <span class="string">0</span>;
}</pre>
                </div>

                <div class="demo-section">
                    <h4>â­ ç‰¹æ®Šé£Ÿç‰©æ•ˆæœé¢„è§ˆ</h4>
                    <div style="display: flex; justify-content: center; gap: 30px; margin: 20px 0;">
                        <div style="text-align: center;">
                            <div style="width: 40px; height: 40px; background: #ff4444; border-radius: 50%; box-shadow: 0 0 15px rgba(255,68,68,0.5); margin: 0 auto 10px;"></div>
                            <p><strong>æ™®é€šé£Ÿç‰©</strong></p>
                            <p>+1 åˆ†</p>
                        </div>
                        <div style="text-align: center;">
                            <div style="width: 40px; height: 40px; background: #ffd700; border-radius: 50%; box-shadow: 0 0 20px rgba(255,215,0,0.8); margin: 0 auto 10px;"></div>
                            <p><strong>ç‰¹æ®Šé£Ÿç‰©</strong></p>
                            <p>+5 åˆ† + åŠ é€Ÿ</p>
                        </div>
                    </div>
                    <table style="max-width: 400px; margin: 20px auto;">
                        <tr>
                            <th>å±æ€§</th>
                            <th>æ™®é€šé£Ÿç‰©</th>
                            <th>ç‰¹æ®Šé£Ÿç‰©</th>
                        </tr>
                        <tr>
                            <td>åˆ†æ•°åŠ æˆ</td>
                            <td>+1</td>
                            <td>+5</td>
                        </tr>
                        <tr>
                            <td>å‡ºç°é¢‘ç‡</td>
                            <td>æ¯æ¬¡</td>
                            <td>æ¯10ä¸ªæ™®é€šé£Ÿç‰©</td>
                        </tr>
                        <tr>
                            <td>æŒç»­æ—¶é—´</td>
                            <td>æ°¸ä¹…</td>
                            <td>10ç§’åæ¶ˆå¤±</td>
                        </tr>
                        <tr>
                            <td>ç‰¹æ®Šæ•ˆæœ</td>
                            <td>æ— </td>
                            <td>5ç§’åŠ é€Ÿ</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>

        <!-- ç¬¬ä¸‰é˜¶æ®µ -->
        <section>
            <h2><span class="phase-number">3</span>ç¬¬ä¸‰é˜¶æ®µï¼šç»“æ„æ€§æ”¹è¿›</h2>
            <p>æœ¬é˜¶æ®µå¯¹æ¸¸æˆæ ¸å¿ƒéª¨æ¶è¿›è¡ŒåŠ å¼ºï¼Œå®ç°æ— é™åœ°å›¾åŠŸèƒ½ã€‚</p>

            <div class="phase">
                <h3>3.1 å®ç°æ— é™/å¾ªç¯åœ°å›¾</h3>
                <div class="ai-prompt">
                    <strong>ç”¨æˆ·éœ€æ±‚ï¼š</strong>ã€Œæˆ‘ç°åœ¨æ˜¯æ’å¢™å°±æ­»ã€‚æˆ‘æƒ³æ”¹æˆæ— é™åœ°å›¾ï¼šå½“è›‡å¤´è¶…å‡ºå³è¾¹ç•Œæ—¶ï¼Œä»å·¦è¾¹å‡ºæ¥ï¼›è¶…å‡ºä¸‹è¾¹ç•Œæ—¶ï¼Œä»é¡¶éƒ¨å‡ºæ¥ã€‚è¿™éœ€è¦æ€ä¹ˆä¿®æ”¹æˆ‘çš„è›‡å¤´ç§»åŠ¨å’Œè¾¹ç•Œæ£€æµ‹é€»è¾‘ï¼Ÿã€
                </div>

                <h4>æ ¸å¿ƒæ¦‚å¿µï¼š</h4>
                <div class="info-box">
                    <strong>ğŸ’¡ å…³é”®æ€è·¯ï¼š</strong>æ— é™åœ°å›¾çš„æ ¸å¿ƒæ˜¯è®©è›‡å¤´åœ¨ç©¿è¶Šè¾¹ç•Œæ—¶ï¼Œä»å¯¹è¾¹å‡ºç°ã€‚è¿™éœ€è¦ä¿®æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼š
                    <ol style="margin-top: 10px; margin-left: 20px;">
                        <li>è›‡å¤´ç§»åŠ¨é€»è¾‘ï¼ˆå¤„ç†åæ ‡ç¯ç»•ï¼‰</li>
                        <li>ç¢°æ’æ£€æµ‹ï¼ˆç§»é™¤æˆ–è°ƒæ•´æ’å¢™æ£€æµ‹ï¼‰</li>
                    </ol>
                </div>

                <h4>è›‡å¤´ç§»åŠ¨é€»è¾‘ä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">// â˜… æ ¸å¿ƒä¿®æ”¹ï¼šæ— é™åœ°å›¾åæ ‡ç¯ç»•</span>
<span class="keyword">function</span> <span class="function">moveSnake</span>() {
    <span class="keyword">const</span> head = {
        x: snake[<span class="string">0</span>].x + dx,
        y: snake[<span class="string">0</span>].y + dy
    };
    
    <span class="comment">// â˜… æ–°å¢ï¼šåæ ‡ç¯ç»•å¤„ç†</span>
    <span class="keyword">if</span> (head.x >= tileCount) {
        head.x = <span class="string">0</span>;  <span class="comment">// ä»å³è¾¹å‡ºæ¥ï¼Œä»å·¦è¾¹è¿›å»</span>
    } <span class="keyword">else if</span> (head.x < <span class="string">0</span>) {
        head.x = tileCount - <span class="string">1</span>;  <span class="comment">// ä»å·¦è¾¹å‡ºæ¥ï¼Œä»å³è¾¹è¿›å»</span>
    }
    
    <span class="keyword">if</span> (head.y >= tileCount) {
        head.y = <span class="string">0</span>;  <span class="comment">// ä»ä¸‹è¾¹å‡ºæ¥ï¼Œä»ä¸Šè¾¹è¿›å»</span>
    } <span class="keyword">else if</span> (head.y < <span class="string">0</span>) {
        head.y = tileCount - <span class="string">1</span>;  <span class="comment">// ä»ä¸Šè¾¹å‡ºæ¥ï¼Œä»ä¸‹è¾¹è¿›å»</span>
    }
    
    snake.<span class="function">unshift</span>(head);
    snake.<span class="function">pop</span>();
}</pre>
                </div>

                <h4>ç¢°æ’æ£€æµ‹ä¿®æ”¹ï¼š</h4>
                <div class="code-block">
<pre><span class="keyword">function</span> <span class="function">checkCollision</span>() {
    <span class="keyword">const</span> head = snake[<span class="string">0</span>];
    
    <span class="comment">// â˜… ä¿®æ”¹ï¼šå¦‚æœæ˜¯æ— é™åœ°å›¾ï¼Œè·³è¿‡æ’å¢™æ£€æµ‹</span>
    <span class="keyword">if</span> (!infiniteMap) {
        <span class="keyword">if</span> (head.x < <span class="string">0</span> || head.x >= tileCount || 
            head.y < <span class="string">0</span> || head.y >= tileCount) {
            <span class="function">gameOver</span>();
        }
    }
    
    <span class="comment">// æ’è‡ªå·±æ£€æµ‹ï¼ˆéœ€è¦è°ƒæ•´ï¼Œå› ä¸ºç¯ç»•åå¯èƒ½æ’åˆ°è‡ªå·±ï¼‰</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="string">1</span>; i < snake.length; i++) {
        <span class="comment">// æ³¨æ„ï¼šç¯ç»•åè›‡èº«å¯èƒ½åœ¨è¾¹ç•Œå¤„ï¼Œ</span>
        <span class="comment">// ä½†å› ä¸ºæˆ‘ä»¬æ¯å¸§éƒ½é‡ç”»å®Œæ•´çš„è›‡ï¼Œ</span>
        <span class="comment">// æ‰€ä»¥æ­£å¸¸æ£€æµ‹å³å¯</span>
        <span class="keyword">if</span> (head.x === snake[i].x && head.y === snake[i].y) {
            <span class="function">gameOver</span>();
        }
    }
    
    <span class="comment">// æ’éšœç¢ç‰©æ£€æµ‹</span>
    <span class="keyword">for</span> (<span class="keyword">let</span> obstacle <span class="keyword">of</span> obstacles) {
        <span class="keyword">if</span> (head.x === obstacle.x && head.y === obstacle.y) {
            <span class="function">gameOver</span>();
        }
    }
}</pre>
                </div>

                <h4>åœ°å›¾åˆ‡æ¢åŠŸèƒ½ï¼š</h4>
                <div class="code-block">
<pre><span class="comment">// åœ°å›¾æ¨¡å¼åˆ‡æ¢</span>
<span class="keyword">let</span> infiniteMap = <span class="keyword">false</span>;  <span class="comment">// é»˜è®¤æ™®é€šåœ°å›¾</span>

<span class="keyword">function</span> <span class="function">toggleMapMode</span>() {
    infiniteMap = !infiniteMap;
    
    <span class="keyword">const</span> status = infiniteMap ? <span class="string">'æ— é™åœ°å›¾'</span> : <span class="string">'æ™®é€šåœ°å›¾'</span>;
    alert(<span class="string">`å·²åˆ‡æ¢åˆ°ï¼š${status}`</span>);
    
    <span class="comment">// é‡ç½®æ¸¸æˆ</span>
    <span class="function">restartGame</span>();
}

<span class="comment">// åœ¨UIä¸­æ·»åŠ åˆ‡æ¢æŒ‰é’®</span>
<span class="comment">// &lt;button id="mapModeBtn" onclick="toggleMapMode()"&gt;åˆ‡æ¢åœ°å›¾æ¨¡å¼&lt;/button&gt;</span></pre>
                </div>

                <div class="demo-section">
                    <h4>ğŸ—ºï¸ æ— é™åœ°å›¾æ•ˆæœç¤ºæ„å›¾</h4>
                    <div style="display: flex; justify-content: center; gap: 40px; margin: 30px 0;">
                        <div style="text-align: center;">
                            <div style="width: 150px; height: 150px; border: 3px solid #00ff88; position: relative; background: #0a0a1a;">
                                <div style="position: absolute; top: 50%; left: -25px; transform: translateY(-50%); width: 20px; height: 40px; background: linear-gradient(to right, rgba(0,255,136,0.5), transparent);"></div>
                                <div style="position: absolute; top: 50%; right: -25px; transform: translateY(-50%); width: 20px; height: 40px; background: linear-gradient(to left, rgba(0,255,136,0.5), transparent);"></div>
                                <div style="position: absolute; left: 50%; top: -25px; transform: translateX(-50%); width: 40px; height: 20px; background: linear-gradient(to bottom, rgba(0,255,136,0.5), transparent);"></div>
                                <div style="position: absolute; left: 50%; bottom: -25px; transform: translateX(-50%); width: 40px; height: 20px; background: linear-gradient(to top, rgba(0,255,136,0.5), transparent);"></div>
                                <div style="position: absolute; top: 40%; left: 40%; width: 20px; height: 20px; background: #00ff88; border-radius: 3px;"></div>
                            </div>
                            <p style="margin-top: 10px;"><strong>æ™®é€šåœ°å›¾</strong></p>
                            <p style="color: #ff6b6b;">æ’å¢™ = æ¸¸æˆç»“æŸ</p>
                        </div>
                        <div style="font-size: 50px; display: flex; align-items: center;">â¡ï¸</div>
                        <div style="text-align: center;">
                            <div style="width: 150px; height: 150px; border: 3px dashed #4facfe; position: relative; background: #0a0a1a; border-radius: 10px;">
                                <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; border: 2px solid rgba(79,172,254,0.3); border-radius: 8px;"></div>
                                <div style="position: absolute; top: 40%; left: 70%; width: 20px; height: 20px; background: #00ff88; border-radius: 3px; box-shadow: 0 0 15px rgba(0,255,136,0.5);"></div>
                                <div style="position: absolute; top: 40%; left: 10%; width: 20px; height: 20px; background: #4facfe; border-radius: 3px; opacity: 0.7;"></div>
                                <div style="position: absolute; top: 10%; left: 40%; width: 20px; height: 20px; background: #4facfe; border-radius: 3px; opacity: 0.7;"></div>
                                <div style="position: absolute; bottom: 10%; left: 40%; width: 20px; height: 20px; background: #4facfe; border-radius: 3px; opacity: 0.7;"></div>
                                <p style="font-size: 12px; color: #4facfe; margin-top: 5px;">å¾ªç¯ç©¿è¶Š</p>
                            </div>
                            <p style="margin-top: 10px;"><strong>æ— é™åœ°å›¾</strong></p>
                            <p style="color: #4facfe;">ç©¿è¶Šè¾¹ç•Œç»§ç»­æ¸¸æˆ</p>
                        </div>
                    </div>
                    <table style="max-width: 500px; margin: 20px auto;">
                        <tr>
                            <th>è¡Œä¸º</th>
                            <th>æ™®é€šåœ°å›¾</th>
                            <th>æ— é™åœ°å›¾</th>
                        </tr>
                        <tr>
                            <td>è¶…å‡ºå³è¾¹ç•Œ</td>
                            <td style="color: #ff6b6b;">æ¸¸æˆç»“æŸ</td>
                            <td style="color: #4facfe;">ä»å·¦è¾¹å‡ºç°</td>
                        </tr>
                        <tr>
                            <td>è¶…å‡ºå·¦è¾¹ç•Œ</td>
                            <td style="color: #ff6b6b;">æ¸¸æˆç»“æŸ</td>
                            <td style="color: #4facfe;">ä»å³è¾¹å‡ºç°</td>
                        </tr>
                        <tr>
                            <td>è¶…å‡ºä¸‹è¾¹ç•Œ</td>
                            <td style="color: #ff6b6b;">æ¸¸æˆç»“æŸ</td>
                            <td style="color: #4facfe;">ä»é¡¶éƒ¨å‡ºç°</td>
                        </tr>
                        <tr>
                            <td>è¶…å‡ºä¸Šè¾¹ç•Œ</td>
                            <td style="color: #ff6b6b;">æ¸¸æˆç»“æŸ</td>
                            <td style="color: #4facfe;">ä»åº•éƒ¨å‡ºç°</td>
                        </tr>
                    </table>
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ“¥ å®Œæ•´ç‰ˆæœ¬Bæ¸¸æˆ</h2>
            <p>ä»¥ä¸Šæ‰€æœ‰åŠŸèƒ½å·²é›†æˆåˆ°ç‰ˆæœ¬Bæ¸¸æˆä¸­ï¼ŒåŒ…å«å®Œæ•´çš„éšœç¢ç‰©ç³»ç»Ÿã€ç‰¹æ®Šé£Ÿç‰©æœºåˆ¶å’Œæ— é™åœ°å›¾æ¨¡å¼ã€‚</p>
            
            <div class="game-preview">
                <a href="game_b.html" class="play-btn">ğŸ® ç«‹å³è¯•ç©å®Œæ•´ç‰ˆæœ¬B</a>
            </div>

            <h3>ç‰ˆæœ¬BåŠŸèƒ½æ¸…å•ï¼š</h3>
            <ul>
                <li><span class="highlight">âœ“</span> åˆ†æ•°å®æ—¶æ˜¾ç¤ºå’Œæœ€é«˜åˆ†è®°å½•</li>
                <li><span class="highlight">âœ“</span> å¼€å§‹ã€æš‚åœã€é‡æ–°å¼€å§‹æŒ‰é’®æ§åˆ¶</li>
                <li><span class="highlight">âœ“</span> ç©ºæ ¼é”®å¿«é€Ÿæš‚åœ</li>
                <li><span class="highlight">âœ“</span> ç¾è§‚çš„ç°ä»£åŒ–ç•Œé¢</li>
                <li><span class="highlight">âœ“</span> éšæœºç”Ÿæˆçš„éšœç¢ç‰©ï¼ˆæ’åˆ°æ¸¸æˆç»“æŸï¼‰</li>
                <li><span class="highlight">âœ“</span> ç‰¹æ®Šé£Ÿç‰©ï¼ˆ+5åˆ†ï¼Œ5ç§’åŠ é€Ÿæ•ˆæœï¼‰</li>
                <li><span class="highlight">âœ“</span> æ™®é€šé£Ÿç‰©ï¼ˆ+1åˆ†ï¼‰</li>
                <li><span class="highlight">âœ“</span> æ— é™åœ°å›¾æ¨¡å¼ï¼ˆå¯åˆ‡æ¢ï¼‰</li>
            </ul>
        </section>

        <section>
            <h2>ğŸ”œ ä¸‹ä¸€æ­¥ï¼šç‰ˆæœ¬C</h2>
            <p>ç‰ˆæœ¬Bå·²ç»æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„è´ªåƒè›‡æ¸¸æˆäº†ã€‚ç‰ˆæœ¬Cå°†è¿›ä¸€æ­¥ä¼˜åŒ–å’Œæ‰©å±•ï¼š</p>
            <ul>
                <li>å¹³æ»‘åŠ¨ç”»æ•ˆæœå’Œè§†è§‰ç‰¹æ•ˆ</li>
                <li>å“åº”å¼è®¾è®¡ï¼ˆé€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼‰</li>
                <li>éŸ³æ•ˆå’ŒèƒŒæ™¯éŸ³ä¹</li>
                <li>å…³å¡ç³»ç»Ÿ</li>
                <li>æ’è¡Œæ¦œåŠŸèƒ½</li>
                <li>è§¦æ‘¸æ§åˆ¶ï¼ˆæ”¯æŒç§»åŠ¨ç«¯ï¼‰</li>
            </ul>
            <p>ç‚¹å‡» <a href="version_c.html" class="back-link">è¿™é‡Œ</a> æŸ¥çœ‹ç‰ˆæœ¬Cçš„è¯¦ç»†æ–‡æ¡£ã€‚</p>
        </section>

        <div class="footer">
            <p>ğŸ“š è´ªåƒè›‡æ¸¸æˆå¼€å‘æ–‡æ¡£ | <a href="index.html" class="back-link">è¿”å›ä¸»æ–‡æ¡£</a></p>
        </div>
    </div>

    <script>
        // åˆ†æ•°æ¼”ç¤º
        let demoScore = 0;
        let demoHighScore = 0;

        function addScoreDemo() {
            demoScore++;
            document.getElementById('demoScore1').textContent = demoScore;
            document.getElementById('demoScore2').textContent = demoScore;
            if (demoScore > demoHighScore) {
                demoHighScore = demoScore;
                document.getElementById('demoHighScore1').textContent = demoHighScore;
                document.getElementById('demoHighScore2').textContent = demoHighScore;
            }
        }

        function resetScoreDemo() {
            demoScore = 0;
            document.getElementById('demoScore1').textContent = '0';
            document.getElementById('demoScore2').textContent = '0';
        }

        // éšœç¢ç‰©é¢„è§ˆ
        function drawObstacleDemo() {
            const canvas = document.getElementById('obstacleDemo');
            const ctx = canvas.getContext('2d');
            const gridSize = 10;
            const tileCount = 20;

            ctx.fillStyle = '#f0f0f0';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // ç»˜åˆ¶ç½‘æ ¼
            ctx.strokeStyle = '#ddd';
            for (let i = 0; i <= tileCount; i++) {
                ctx.beginPath();
                ctx.moveTo(i * gridSize, 0);
                ctx.lineTo(i * gridSize, canvas.height);
                ctx.stroke();

                ctx.beginPath();
                ctx.moveTo(0, i * gridSize);
                ctx.lineTo(canvas.width, i * gridSize);
                ctx.stroke();
            }

            // ç»˜åˆ¶éšœç¢ç‰©
            ctx.fillStyle = '#666';
            const obstacles = [
                {x: 5, y: 5},
                {x: 12, y: 8},
                {x: 3, y: 15},
                {x: 16, y: 3},
                {x: 10, y: 12}
            ];

            for (let obs of obstacles) {
                ctx.fillRect(obs.x * gridSize, obs.y * gridSize, gridSize - 2, gridSize - 2);
            }

            // ç»˜åˆ¶è›‡
            ctx.fillStyle = 'green';
            const snake = [
                {x: 10, y: 10},
                {x: 9, y: 10},
                {x: 8, y: 10}
            ];

            for (let segment of snake) {
                ctx.fillRect(segment.x * gridSize, segment.y * gridSize, gridSize - 2, gridSize - 2);
            }
        }

        drawObstacleDemo();
    </script>
</body>
</html>
