<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‰ˆæœ¬C - é«˜çº§è´ªåƒè›‡æ¸¸æˆæ–‡æ¡£</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            min-height: 100vh;
            padding: 40px 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255,255,255,0.1);
        }

        .header h1 {
            color: #ffd700;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header .version-tag {
            display: inline-block;
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            color: #1a1a2e;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .nav-buttons {
            margin-bottom: 30px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .nav-btn {
            padding: 12px 25px;
            background: rgba(255,255,255,0.1);
            color: #fff;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: rgba(255, 215, 0, 0.3);
        }

        .play-btn {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            padding: 15px 40px;
            border-radius: 30px;
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1em;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .play-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
        }

        .game-preview {
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: rgba(255,215,0,0.05);
            border-radius: 15px;
            border: 1px solid rgba(255,215,0,0.2);
        }

        section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        h2 {
            color: #ffd700;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        h3 {
            color: #00ff88;
            margin: 25px 0 15px;
            font-size: 1.5em;
            border-left: 4px solid #ffd700;
            padding-left: 15px;
        }

        h4 {
            color: #4facfe;
            margin: 20px 0 10px;
            font-size: 1.2em;
        }

        p {
            margin-bottom: 15px;
            color: #ddd;
            line-height: 1.9;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: rgba(0,0,0,0.2);
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ffd700;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.2);
        }

        .feature-card h4 {
            color: #ffd700;
            margin-bottom: 10px;
        }

        .feature-card ul {
            margin-left: 20px;
        }

        .feature-card li {
            margin-bottom: 8px;
            color: #ccc;
        }

        .code-block {
            background: #0d1117;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            overflow-x: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .code-block pre {
            color: #c9d1d9;
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.8;
        }

        .code-block .comment {
            color: #8b949e;
        }

        .code-block .keyword {
            color: #ff7b72;
        }

        .code-block .string {
            color: #a5d6ff;
        }

        .code-block .function {
            color: #d2a8ff;
        }

        .highlight-line {
            background: rgba(255, 215, 0, 0.2);
            display: block;
            margin: 0 -20px;
            padding: 0 20px;
        }

        ul {
            margin: 15px 0 15px 30px;
        }

        li {
            margin-bottom: 12px;
            line-height: 1.8;
        }

        .info-box {
            background: rgba(255, 215, 0, 0.1);
            border-left: 4px solid #ffd700;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 10px 10px 0;
        }

        .info-box strong {
            color: #ffd700;
        }

        .demo-section {
            background: rgba(79, 172, 254, 0.1);
            border: 2px dashed #4facfe;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
        }

        .demo-section h4 {
            color: #4facfe;
            text-align: center;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        th {
            background: rgba(255, 215, 0, 0.2);
            color: #ffd700;
        }

        .highlight {
            background: rgba(255, 215, 0, 0.2);
            padding: 3px 10px;
            border-radius: 4px;
            color: #ffd700;
            font-weight: bold;
        }

        .version-comparison {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 30px 0;
        }

        .version-col {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 20px;
        }

        .version-col h4 {
            text-align: center;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .version-col.version-a h4 {
            background: linear-gradient(135deg, #00ff88 0%, #00cc6a 100%);
            color: #1a1a2e;
        }

        .version-col.version-b h4 {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: #1a1a2e;
        }

        .version-col.version-c h4 {
            background: linear-gradient(135deg, #ffd700 0%, #ff8c00 100%);
            color: #1a1a2e;
        }

        .version-col ul {
            list-style: none;
            margin: 0;
        }

        .version-col li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            font-size: 0.9em;
        }

        .version-col li:before {
            content: "âœ“ ";
            color: #00ff88;
        }

        .footer {
            text-align: center;
            padding: 30px;
            color: #aaa;
            margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .back-link {
            color: #ffd700;
            text-decoration: none;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        @media (max-width: 900px) {
            .version-comparison {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="index.html" class="back-link">â† è¿”å›ä¸»æ–‡æ¡£</a>
            <h1 style="margin-top: 15px;">â­ ç‰ˆæœ¬ C - é«˜çº§è´ªåƒè›‡æ¸¸æˆ</h1>
            <span class="version-tag">é«˜çº§ç‰ˆæœ¬</span>
            <p>åŒ…å«æ‰€æœ‰åŠŸèƒ½çš„ç»ˆæç‰ˆæœ¬ï¼Œé›†æˆå¹³æ»‘åŠ¨ç”»ã€ç­‰çº§ç³»ç»Ÿã€ä¼ é€é—¨å’Œå®Œæ•´è®¾ç½®</p>
        </div>

        <div class="nav-buttons">
            <a href="game_c.html" class="play-btn">ğŸ® è¯•ç©ç‰ˆæœ¬C</a>
            <a href="version_a.html" class="nav-btn">ğŸ“Œ ç‰ˆæœ¬A</a>
            <a href="version_b.html" class="nav-btn">ğŸš€ ç‰ˆæœ¬B</a>
        </div>

        <section>
            <h2>ğŸ“‹ ç‰ˆæœ¬CåŠŸèƒ½æ¦‚è§ˆ</h2>
            <p>ç‰ˆæœ¬Cæ˜¯è´ªåƒè›‡æ¸¸æˆçš„ç»ˆæç‰ˆæœ¬ï¼Œé›†æˆäº†ä¹‹å‰æ‰€æœ‰ç‰ˆæœ¬çš„åŠŸèƒ½ï¼Œå¹¶æ·»åŠ äº†å¤§é‡é«˜çº§ç‰¹æ€§ï¼š</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h4>ğŸ® å®Œæ•´æ¸¸æˆæœºåˆ¶</h4>
                    <ul>
                        <li>ç»å…¸åœ°å›¾å’Œæ— é™åœ°å›¾åŒæ¨¡å¼</li>
                        <li>æ™®é€šã€ç‰¹æ®Šã€å¥–åŠ±ä¸‰ç§é£Ÿç‰©</li>
                        <li>éšæœºéšœç¢ç‰©ç³»ç»Ÿ</li>
                        <li>ä¼ é€é—¨åŠŸèƒ½ï¼ˆæ— é™æ¨¡å¼ï¼‰</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>ğŸ“ˆ ç­‰çº§ä¸è¿›åº¦ç³»ç»Ÿ</h4>
                    <ul>
                        <li>ç»éªŒå€¼ç§¯ç´¯æœºåˆ¶</li>
                        <li>ç­‰çº§æå‡ç³»ç»Ÿ</li>
                        <li>é€Ÿåº¦éšç­‰çº§å¢åŠ </li>
                        <li>æ¸¸æˆæ—¶é•¿ç»Ÿè®¡</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>âœ¨ è§†è§‰ç‰¹æ•ˆ</h4>
                    <ul>
                        <li>ç²’å­æ•ˆæœç³»ç»Ÿ</li>
                        <li>è›‡èº«æ‹–å°¾æ•ˆæœ</li>
                        <li>å‡çº§åŠ¨ç”»æç¤º</li>
                        <li>æ¸å˜è‰²è›‡èº«</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>âš™ï¸ å®Œæ•´è®¾ç½®ç³»ç»Ÿ</h4>
                    <ul>
                        <li>ä¸‰ç§éš¾åº¦é€‰æ‹©</li>
                        <li>éŸ³æ•ˆéŸ³é‡æ§åˆ¶</li>
                        <li>ç‰¹æ•ˆå¼€å…³</li>
                        <li>æœ¬åœ°å­˜å‚¨æœ€é«˜åˆ†</li>
                    </ul>
                </div>
            </div>

            <div class="game-preview">
                <a href="game_c.html" class="play-btn">ğŸ® ç«‹å³è¯•ç©ç»ˆæç‰ˆæœ¬C</a>
                <p style="margin-top: 15px; color: #ffd700;">ä½“éªŒæœ€å®Œæ•´çš„è´ªåƒè›‡æ¸¸æˆï¼</p>
            </div>
        </section>

        <section>
            <h2>ğŸ“Š ç‰ˆæœ¬å¯¹æ¯”</h2>
            <div class="version-comparison">
                <div class="version-col version-a">
                    <h4>ğŸ“Œ ç‰ˆæœ¬A</h4>
                    <ul>
                        <li>åŸºç¡€è›‡ç§»åŠ¨æ§åˆ¶</li>
                        <li>ç¢°æ’æ£€æµ‹</li>
                        <li>ç®€å•åˆ†æ•°æ˜¾ç¤º</li>
                        <li>åŸºç¡€ç•Œé¢</li>
                        <li>æ’å¢™æ­»äº¡</li>
                    </ul>
                </div>
                <div class="version-col version-b">
                    <h4>ğŸš€ ç‰ˆæœ¬B</h4>
                    <ul>
                        <li>æ‰€æœ‰Açš„åŠŸèƒ½</li>
                        <li>åˆ†æ•°å’Œæœ€é«˜åˆ†è®°å½•</li>
                        <li>æ§åˆ¶æŒ‰é’®</li>
                        <li>éšæœºéšœç¢ç‰©</li>
                        <li>ç‰¹æ®Šé£Ÿç‰©</li>
                        <li>æ— é™åœ°å›¾æ¨¡å¼</li>
                    </ul>
                </div>
                <div class="version-col version-c">
                    <h4>â­ ç‰ˆæœ¬C</h4>
                    <ul>
                        <li>æ‰€æœ‰Bçš„åŠŸèƒ½</li>
                        <li>ç­‰çº§ç³»ç»Ÿ</li>
                        <li>ç»éªŒå€¼æœºåˆ¶</li>
                        <li>ç²’å­ç‰¹æ•ˆ</li>
                        <li>ä¼ é€é—¨</li>
                        <li>å¥–åŠ±é£Ÿç‰©</li>
                        <li>å®Œæ•´è®¾ç½®é¢æ¿</li>
                        <li>éš¾åº¦é€‰æ‹©</li>
                        <li>æ¸¸æˆæ—¶é•¿ç»Ÿè®¡</li>
                    </ul>
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ”§ æ ¸å¿ƒä»£ç å®ç°</h2>

            <h3>1. ç­‰çº§å’Œç»éªŒç³»ç»Ÿ</h3>
            <div class="code-block">
<pre><span class="comment">// ç­‰çº§å’Œç»éªŒç³»ç»Ÿ</span>
<span class="keyword">let</span> level = <span class="string">1</span>;
<span class="keyword">let</span> experience = <span class="string">0</span>;
<span class="keyword">let</span> experienceToNextLevel = <span class="string">100</span>;
<span class="keyword">let</span> speedMultiplier = <span class="string">1</span>;

<span class="keyword">function</span> <span class="function">checkLevelUp</span>() {
    <span class="keyword">if</span> (experience >= experienceToNextLevel) {
        level++;
        experience -= experienceToNextLevel;
        
        <span class="comment">// å‡çº§æ‰€éœ€ç»éªŒé€’å¢</span>
        experienceToNextLevel = <span class="function">Math.floor</span>(experienceToNextLevel * <span class="string">1.5</span>);
        
        <span class="comment">// é€Ÿåº¦éšç­‰çº§å¢åŠ </span>
        speedMultiplier += difficulties[difficulty].speedIncrease;
        currentSpeed = baseSpeed / speedMultiplier;
        
        <span class="function">showLevelUp</span>();
        <span class="function">updateUI</span>();
    }
}

<span class="keyword">function</span> <span class="function">showLevelUp</span>() {
    document.<span class="function">getElementById</span>(<span class="string">'newLevel'</span>).textContent = level;
    
    <span class="comment">// æ˜¾ç¤ºå‡çº§åŠ¨ç”»</span>
    <span class="keyword">const</span> notification = document.<span class="function">getElementById</span>(<span class="string">'levelUpNotification'</span>);
    notification.style.display = <span class="string">'block'</span>;
    
    <span class="function">setTimeout</span>(() => {
        notification.style.display = <span class="string">'none'</span>;
    }, <span class="string">2000</span>);
}</pre>
            </div>

            <h3>2. é£Ÿç‰©ç±»å‹ç³»ç»Ÿ</h3>
            <div class="code-block">
<pre><span class="comment">// é£Ÿç‰©ç±»å‹æšä¸¾</span>
<span class="keyword">const</span> FOOD_TYPE = {
    NORMAL: <span class="string">'normal'</span>,    <span class="comment">// æ™®é€šé£Ÿç‰© (+1åˆ†, +10ç»éªŒ)</span>
    SPECIAL: <span class="string">'special'</span>,  <span class="comment">// ç‰¹æ®Šé£Ÿç‰© (+5åˆ†, +30ç»éªŒ)</span>
    BONUS: <span class="string">'bonus'</span>       <span class="comment">// å¥–åŠ±é£Ÿç‰© (+10åˆ†, +50ç»éªŒ)</span>
};

<span class="comment">// ç”Ÿæˆé£Ÿç‰©é€»è¾‘</span>
<span class="keyword">function</span> <span class="function">generateFood</span>() {
    <span class="keyword">const</span> rand = <span class="function">Math.random</span>();
    
    <span class="comment">// 5%æ¦‚ç‡ç”Ÿæˆå¥–åŠ±é£Ÿç‰©ï¼ˆ3çº§åï¼‰</span>
    <span class="keyword">if</span> (rand < <span class="string">0.05</span> && level >= <span class="string">3</span>) {
        food.type = FOOD_TYPE.BONUS;
        <span class="comment">// ... ç”Ÿæˆä½ç½®é€»è¾‘</span>
        
        <span class="comment">// 8ç§’åæ¶ˆå¤±</span>
        bonusFoodTimer = <span class="function">setTimeout</span>(() => {
            <span class="keyword">if</span> (food.type === FOOD_TYPE.BONUS) {
                food.type = FOOD_TYPE.NORMAL;
                <span class="function">generateFood</span>();
            }
        }, <span class="string">8000</span>);
    }
    <span class="comment">// æ¯8ä¸ªæ™®é€šé£Ÿç‰©å‡ºç°ä¸€æ¬¡ç‰¹æ®Šé£Ÿç‰©</span>
    <span class="keyword">else if</span> (normalFoodEaten > <span class="string">0</span> && 
               normalFoodEaten % <span class="string">8</span> === <span class="string">0</span>) {
        food.type = FOOD_TYPE.SPECIAL;
        <span class="comment">// ... ç”Ÿæˆä½ç½®é€»è¾‘</span>
    }
    <span class="keyword">else</span> {
        food.type = FOOD_TYPE.NORMAL;
        <span class="comment">// ... ç”Ÿæˆä½ç½®é€»è¾‘</span>
    }
}

<span class="comment">// åƒé£Ÿç‰©å¤„ç†</span>
<span class="keyword">function</span> <span class="function">checkFood</span>() {
    <span class="keyword">let</span> expGain = <span class="string">10</span>;
    <span class="keyword">let</span> scoreGain = <span class="string">1</span>;
    
    <span class="keyword">if</span> (food.type === FOOD_TYPE.SPECIAL) {
        scoreGain = <span class="string">5</span>;
        expGain = <span class="string">30</span>;
        <span class="function">activateSpeedBoost</span>(<span class="string">1.3</span>);
    } <span class="keyword">else if</span> (food.type === FOOD_TYPE.BONUS) {
        scoreGain = <span class="string">10</span>;
        expGain = <span class="string">50</span>;
    }
    
    score += scoreGain;
    experience += expGain;
    
    <span class="function">checkLevelUp</span>();
}</pre>
            </div>

            <h3>3. ä¼ é€é—¨ç³»ç»Ÿ</h3>
            <div class="code-block">
<pre><span class="comment">// ä¼ é€é—¨æ•°æ®ç»“æ„</span>
<span class="keyword">let</span> portals = [];

<span class="comment">// ç”Ÿæˆä¼ é€é—¨</span>
<span class="keyword">function</span> <span class="function">generatePortals</span>() {
    portals = [];
    <span class="keyword">if</span> (mapMode !== <span class="string">'infinite'</span>) <span class="keyword">return</span>;
    
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="string">0</span>; i < <span class="string">2</span>; i++) {  <span class="comment">// ç”Ÿæˆ2ä¸ªä¼ é€é—¨</span>
        <span class="keyword">let</span> portal;
        <span class="keyword">let</span> attempts = <span class="string">0</span>;
        <span class="keyword">do</span> {
            portal = {
                x: <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * TILE_COUNT),
                y: <span class="function">Math.floor</span>(<span class="function">Math.random</span>() * TILE_COUNT),
                id: i
            };
            attempts++;
        } <span class="keyword">while</span> (<span class="comment">/* é¿å…ä½ç½®é‡å  */</span>) && attempts < <span class="string">100</span>;
        
        <span class="keyword">if</span> (attempts < <span class="string">100</span>) {
            portals.<span class="function">push</span>(portal);
        }
    }
}

<span class="comment">// ç§»åŠ¨æ—¶æ£€æµ‹ä¼ é€é—¨</span>
<span class="keyword">function</span> <span class="function">moveSnake</span>() {
    <span class="comment">// ... ç§»åŠ¨é€»è¾‘</span>
    
    <span class="keyword">if</span> (mapMode === <span class="string">'infinite'</span>) {
        <span class="keyword">for</span> (<span class="keyword">let</span> portal <span class="keyword">of</span> portals) {
            <span class="keyword">if</span> (head.x === portal.x && head.y === portal.y) {
                <span class="keyword">const</span> otherPortal = portals.<span class="function">find</span>(p => p.id !== portal.id);
                <span class="keyword">if</span> (otherPortal) {
                    head.x = otherPortal.x;
                    head.y = otherPortal.y;
                    <span class="function">createTeleportEffect</span>(portal, otherPortal);
                    <span class="keyword">break</span>;
                }
            }
        }
    }
    
    <span class="comment">// ... ç»§ç»­ç§»åŠ¨é€»è¾‘</span>
}</pre>
            </div>

            <h3>4. ç²’å­ç‰¹æ•ˆç³»ç»Ÿ</h3>
            <div class="code-block">
<pre><span class="comment">// ç²’å­æ•ˆæœç³»ç»Ÿ</span>
<span class="keyword">let</span> particles = [];
<span class="keyword">let</span> effectsEnabled = <span class="keyword">true</span>;

<span class="comment">// åˆ›å»ºåƒé£Ÿç‰©ç‰¹æ•ˆ</span>
<span class="keyword">function</span> <span class="function">createEatEffect</span>(x, y) {
    <span class="keyword">if</span> (!effectsEnabled) <span class="keyword">return</span>;
    
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="string">0</span>; i < <span class="string">8</span>; i++) {
        particles.<span class="function">push</span>({
            x: x * GRID_SIZE + GRID_SIZE / <span class="string">2</span>,
            y: y * GRID_SIZE + GRID_SIZE / <span class="string">2</span>,
            vx: (<span class="function">Math.random</span>() - <span class="string">0.5</span>) * <span class="string">8</span>,
            vy: (<span class="function">Math.random</span>() - <span class="string">0.5</span>) * <span class="string">8</span>,
            life: <span class="string">1</span>,
            color: food.type === FOOD_TYPE.SPECIAL ? <span class="string">'#ffd700'</span> : <span class="string">'#ff4444'</span>
        });
    }
}

<span class="comment">// æ›´æ–°ç²’å­</span>
<span class="keyword">function</span> <span class="function">updateParticles</span>() {
    particles = particles.<span class="function">filter</span>(p => {
        p.life -= <span class="string">0.03</span>;
        p.x += p.vx;
        p.y += p.vy;
        p.vx *= <span class="string">0.95</span>;  <span class="comment">// é˜»å°¼æ•ˆæœ</span>
        p.vy *= <span class="string">0.95</span>;
        <span class="keyword">return</span> p.life > <span class="string">0</span>;
    });
}

<span class="comment">// ç»˜åˆ¶ç²’å­</span>
<span class="keyword">function</span> <span class="function">drawParticles</span>() {
    <span class="keyword">if</span> (!effectsEnabled) <span class="keyword">return</span>;
    
    <span class="keyword">for</span> (<span class="keyword">let</span> p <span class="keyword">of</span> particles) {
        ctx.globalAlpha = p.life;
        ctx.fillStyle = p.color;
        ctx.<span class="function">beginPath</span>();
        ctx.<span class="function">arc</span>(p.x, p.y, <span class="string">4</span>, <span class="string">0</span>, Math.PI * <span class="string">2</span>);
        ctx.<span class="function">fill</span>();
    }
    ctx.globalAlpha = <span class="string">1</span>;
}</pre>
            </div>

            <h3>5. è›‡èº«æ‹–å°¾æ•ˆæœ</h3>
            <div class="code-block">
<pre><span class="comment">// æ‹–å°¾æ•ˆæœç³»ç»Ÿ</span>
<span class="keyword">let</span> trails = [];

<span class="keyword">function</span> <span class="function">moveSnake</span>() {
    <span class="comment">// ... ç§»åŠ¨é€»è¾‘</span>
    
    <span class="keyword">if</span> (effectsEnabled) {
        trails.<span class="function">push</span>({
            x: head.x,
            y: head.y,
            alpha: <span class="string">0.6</span>,
            color: <span class="string">`hsl(${(score * 10) % 360}, 70%, 50%)`</span>
        });
        
        <span class="comment">// é™åˆ¶æ‹–å°¾é•¿åº¦</span>
        <span class="keyword">if</span> (trails.length > <span class="string">5</span>) trails.<span class="function">shift</span>();
    }
    
    <span class="comment">// ... ç»§ç»­é€»è¾‘</span>
}

<span class="comment">// ç»˜åˆ¶æ‹–å°¾</span>
<span class="keyword">function</span> <span class="function">draw</span>() {
    <span class="comment">// ... å…¶ä»–ç»˜åˆ¶</span>
    
    <span class="keyword">if</span> (effectsEnabled) {
        ctx.globalAlpha = <span class="string">0.3</span>;
        <span class="keyword">for</span> (<span class="keyword">let</span> trail <span class="keyword">of</span> trails) {
            ctx.fillStyle = trail.color;
            ctx.<span class="function">beginPath</span>();
            ctx.<span class="function">arc</span>(
                trail.x * GRID_SIZE + GRID_SIZE / <span class="string">2</span>,
                trail.y * GRID_SIZE + GRID_SIZE / <span class="string">2</span>,
                GRID_SIZE / <span class="string">3</span>,
                <span class="string">0</span>,
                Math.PI * <span class="string">2</span>
            );
            ctx.<span class="function">fill</span>();
        }
        ctx.globalAlpha = <span class="string">1</span>;
    }
}</pre>
            </div>
        </section>

        <section>
            <h2>âš™ï¸ éš¾åº¦ç³»ç»Ÿ</h2>
            <p>ç‰ˆæœ¬Cå¼•å…¥äº†å®Œæ•´çš„éš¾åº¦ç³»ç»Ÿï¼Œå½±å“æ¸¸æˆçš„åŸºç¡€é€Ÿåº¦å’Œéš¾åº¦ï¼š</p>

            <table>
                <tr>
                    <th>éš¾åº¦</th>
                    <th>åŸºç¡€é€Ÿåº¦</th>
                    <th>éšœç¢ç‰©æ•°é‡</th>
                    <th>é€Ÿåº¦é€’å¢</th>
                    <th>é€‚åˆç©å®¶</th>
                </tr>
                <tr>
                    <td>ç®€å•</td>
                    <td>180ms/å¸§</td>
                    <td>3ä¸ª</td>
                    <td>5%</td>
                    <td>æ–°æ‰‹å…¥é—¨</td>
                </tr>
                <tr>
                    <td>æ™®é€š</td>
                    <td>150ms/å¸§</td>
                    <td>5ä¸ª</td>
                    <td>8%</td>
                    <td>æ™®é€šç©å®¶</td>
                </tr>
                <tr>
                    <td>å›°éš¾</td>
                    <td>120ms/å¸§</td>
                    <td>8ä¸ª</td>
                    <td>12%</td>
                    <td>æŒ‘æˆ˜é«˜æ‰‹</td>
                </tr>
            </table>

            <div class="info-box">
                <strong>ğŸ’¡ æç¤ºï¼š</strong>éš¾åº¦è®¾ç½®ä¼šå½±å“æ¸¸æˆçš„æ•´ä½“èŠ‚å¥ã€‚å›°éš¾æ¨¡å¼ä¸‹ï¼Œè›‡çš„ç§»åŠ¨é€Ÿåº¦æ›´å¿«ï¼Œéšœç¢ç‰©æ›´å¤šï¼Œä¸”éšç­‰çº§æå‡é€Ÿåº¦å¢åŠ æ›´å¿«ã€‚
            </div>

            <h3>éš¾åº¦é…ç½®ä»£ç ï¼š</h3>
            <div class="code-block">
<pre><span class="keyword">const</span> difficulties = {
    easy: { 
        speed: <span class="string">180</span>,           <span class="comment">// è¾ƒæ…¢çš„åŸºç¡€é€Ÿåº¦</span>
        obstacleCount: <span class="string">3</span>,        <span class="comment">// è¾ƒå°‘éšœç¢ç‰©</span>
        speedIncrease: <span class="string">0.05</span>        <span class="comment">// æ¯æ¬¡å‡çº§é€Ÿåº¦+5%</span>
    },
    normal: { 
        speed: <span class="string">150</span>,           <span class="comment">// ä¸­ç­‰é€Ÿåº¦</span>
        obstacleCount: <span class="string">5</span>,        <span class="comment">// é€‚é‡éšœç¢ç‰©</span>
        speedIncrease: <span class="string">0.08</span>        <span class="comment">// æ¯æ¬¡å‡çº§é€Ÿåº¦+8%</span>
    },
    hard: { 
        speed: <span class="string">120</span>,           <span class="comment">// è¾ƒå¿«é€Ÿåº¦</span>
        obstacleCount: <span class="string">8</span>,        <span class="comment">// æ›´å¤šéšœç¢ç‰©</span>
        speedIncrease: <span class="string">0.12</span>        <span class="comment">// æ¯æ¬¡å‡çº§é€Ÿåº¦+12%</span>
    }
};

<span class="comment">// æ ¹æ®é€‰æ‹©çš„åº”ç”¨é…ç½®</span>
<span class="keyword">function</span> <span class="function">applyDifficulty</span>() {
    <span class="keyword">const</span> config = difficulties[difficulty];
    baseSpeed = config.speed;
    generateObstacles(config.obstacleCount);
}</pre>
            </div>
        </section>

        <section>
            <h2>ğŸ¨ è§†è§‰æ•ˆæœé¢„è§ˆ</h2>

            <div class="demo-section">
                <h4>â­ é£Ÿç‰©ç±»å‹æ•ˆæœ</h4>
                <div style="display: flex; justify-content: center; gap: 40px; margin: 30px 0; flex-wrap: wrap;">
                    <div style="text-align: center;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #ff4444, #cc0000); border-radius: 50%; box-shadow: 0 0 20px rgba(255,68,68,0.6); margin: 0 auto 10px;"></div>
                        <p><strong>æ™®é€šé£Ÿç‰©</strong></p>
                        <p style="color: #aaa;">+1åˆ†, +10ç»éªŒ</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #ffd700, #ffaa00); border-radius: 50%; box-shadow: 0 0 25px rgba(255,215,0,0.8); margin: 0 auto 10px;"></div>
                        <p><strong>ç‰¹æ®Šé£Ÿç‰©</strong></p>
                        <p style="color: #aaa;">+5åˆ†, +30ç»éªŒ, åŠ é€Ÿ</p>
                    </div>
                    <div style="text-align: center;">
                        <div style="width: 50px; height: 50px; background: linear-gradient(135deg, #9b59b6, #8e44ad); border-radius: 50%; box-shadow: 0 0 25px rgba(155,89,182,0.8); margin: 0 auto 10px;"></div>
                        <p><strong>å¥–åŠ±é£Ÿç‰©</strong></p>
                        <p style="color: #aaa;">+10åˆ†, +50ç»éªŒ, ç¨€æœ‰</p>
                    </div>
                </div>
            </div>

            <div class="demo-section">
                <h4>ğŸ è›‡èº«æ¸å˜æ•ˆæœ</h4>
                <div style="display: flex; align-items: center; justify-content: center; gap: 10px; margin: 20px 0;">
                    <div style="width: 60px; height: 25px; background: linear-gradient(90deg, #00cc6a, #00ff88); border-radius: 5px;"></div>
                    <span style="color: #aaa;">â†’</span>
                    <div style="width: 60px; height: 25px; background: linear-gradient(90deg, #006633, #009944); border-radius: 5px;"></div>
                </div>
                <p style="text-align: center; color: #aaa;">è›‡å¤´æ˜äº® â†’ è›‡å°¾æ¸æš—</p>
            </div>

            <div class="demo-section">
                <h4>ğŸ® ä¼ é€é—¨æ•ˆæœ</h4>
                <div style="display: flex; align-items: center; justify-content: center; gap: 60px; margin: 20px 0;">
                    <div style="text-align: center;">
                        <div style="width: 50px; height: 50px; background: rgba(0, 255, 255, 0.3); border: 3px solid #00ffff; border-radius: 50%; box-shadow: 0 0 20px rgba(0,255,255,0.6); margin: 0 auto;"></div>
                        <p style="margin-top: 10px;"><strong>å…¥å£</strong></p>
                    </div>
                    <div style="font-size: 30px; color: #00ffff;">âœ¨</div>
                    <div style="text-align: center;">
                        <div style="width: 50px; height: 50px; background: rgba(0, 255, 255, 0.3); border: 3px solid #00ffff; border-radius: 50%; box-shadow: 0 0 20px rgba(0,255,255,0.6); margin: 0 auto;"></div>
                        <p style="margin-top: 10px;"><strong>å‡ºå£</strong></p>
                    </div>
                </div>
                <p style="text-align: center; color: #aaa;">è¿›å…¥ä¸€ä¸ªä¼ é€é—¨ä¼šä»å¦ä¸€ä¸ªä¼ é€é—¨å‡ºæ¥</p>
            </div>

            <div class="demo-section">
                <h4>ğŸ“Š ç­‰çº§è¿›åº¦æ¡</h4>
                <div style="background: rgba(0,0,0,0.3); border-radius: 10px; padding: 20px; max-width: 400px; margin: 20px auto;">
                    <p style="margin-bottom: 10px; color: #00ff88;">å½“å‰ç­‰çº§: <strong>5</strong></p>
                    <div style="background: rgba(255,255,255,0.1); border-radius: 5px; height: 20px; overflow: hidden; margin-bottom: 10px;">
                        <div style="background: linear-gradient(90deg, #00ff88, #4facfe); width: 65%; height: 100%; border-radius: 5px;"></div>
                    </div>
                    <p style="color: #aaa; font-size: 0.9em;">65 / 100 ç»éªŒ</p>
                </div>
            </div>
        </section>

        <section>
            <h2>ğŸ“¥ å®Œæ•´ç‰ˆæœ¬Cæ¸¸æˆ</h2>
            <p>ä»¥ä¸Šæ‰€æœ‰åŠŸèƒ½å·²é›†æˆåˆ°ç‰ˆæœ¬Cæ¸¸æˆä¸­ï¼ŒåŒ…å«å®Œæ•´çš„ç­‰çº§ç³»ç»Ÿã€ç²’å­ç‰¹æ•ˆã€ä¼ é€é—¨å’Œè®¾ç½®é¢æ¿ã€‚</p>

            <div class="game-preview">
                <a href="game_c.html" class="play-btn">ğŸ® ç«‹å³è¯•ç©ç»ˆæç‰ˆæœ¬C</a>
            </div>

            <h3>ç‰ˆæœ¬Cå®Œæ•´åŠŸèƒ½æ¸…å•ï¼š</h3>
            <ul>
                <li><span class="highlight">âœ“</span> æ‰€æœ‰ç‰ˆæœ¬Aå’ŒBçš„åŠŸèƒ½</li>
                <li><span class="highlight">âœ“</span> ä¸‰ç§é£Ÿç‰©ç±»å‹ï¼ˆæ™®é€šã€ç‰¹æ®Šã€å¥–åŠ±ï¼‰</li>
                <li><span class="highlight">âœ“</span> ç­‰çº§ç³»ç»Ÿå’Œç»éªŒç§¯ç´¯</li>
                <li><span class="highlight">âœ“</span> ç­‰çº§æå‡é€Ÿåº¦å’Œç‰¹æ•ˆ</li>
                <li><span class="highlight">âœ“</span> ä¼ é€é—¨ç³»ç»Ÿï¼ˆæ— é™æ¨¡å¼ï¼‰</li>
                <li><span class="highlight">âœ“</span> ç²’å­ç‰¹æ•ˆç³»ç»Ÿ</li>
                <li><span class="highlight">âœ“</span> è›‡èº«æ‹–å°¾æ•ˆæœ</li>
                <li><span class="highlight">âœ“</span> ä¸‰ç§éš¾åº¦é€‰æ‹©</li>
                <li><span class="highlight">âœ“</span> éŸ³æ•ˆéŸ³é‡æ§åˆ¶</li>
                <li><span class="highlight">âœ“</span> ç‰¹æ•ˆå¼€å…³</li>
                <li><span class="highlight">âœ“</span> æ¸¸æˆæ—¶é•¿ç»Ÿè®¡</li>
                <li><span class="highlight">âœ“</span> æœ¬åœ°å­˜å‚¨æœ€é«˜åˆ†</li>
                <li><span class="highlight">âœ“</span> æ¸å˜è‰²è›‡èº«è®¾è®¡</li>
                <li><span class="highlight">âœ“</span> è›‡çœ¼åŠ¨ç”»æ•ˆæœ</li>
                <li><span class="highlight">âœ“</span> å‡çº§åŠ¨ç”»æç¤º</li>
                <li><span class="highlight">âœ“</span> åˆ†æ•°é£˜å­—æ•ˆæœ</li>
            </ul>
        </section>

        <section>
            <h2>ğŸš€ ç»§ç»­å‘å±•</h2>
            <p>ç‰ˆæœ¬Cå·²ç»æ˜¯ç›¸å½“å®Œæ•´çš„æ¸¸æˆäº†ï¼Œä½†ä»æœ‰æ— é™çš„å‘å±•å¯èƒ½ï¼š</p>
            <ul>
                <li><strong>å¤šäººå¯¹æˆ˜æ¨¡å¼</strong> - ä¸æœ‹å‹ä¸€èµ·ç«æŠ€</li>
                <li><strong>å…³å¡ç¼–è¾‘å™¨</strong> - è‡ªå®šä¹‰å…³å¡</li>
                <li><strong>æ’è¡Œæ¦œç³»ç»Ÿ</strong> - å…¨çƒæ’å</li>
                <li><strong>æˆå°±ç³»ç»Ÿ</strong> - æ”¶é›†æˆå°±</li>
                <li><strong>ä¸»é¢˜å•†åº—</strong> - ä¸åŒçš„çš®è‚¤</li>
                <li><strong>æ¯æ—¥æŒ‘æˆ˜</strong> - é™æ—¶ä»»åŠ¡</li>
                <li><strong>éŸ³æ•ˆå’ŒéŸ³ä¹</strong> - æ²‰æµ¸ä½“éªŒ</li>
                <li><strong>ç§»åŠ¨ç«¯é€‚é…</strong> - è§¦æ‘¸æ§åˆ¶</li>
            </ul>
            <div class="info-box">
                <strong>ğŸ¯ æ€»ç»“ï¼š</strong>é€šè¿‡è¿™ä¸‰ä¸ªç‰ˆæœ¬çš„å­¦ä¹ ï¼Œæˆ‘ä»¬å®Œæ•´ç»å†äº†ä»åŸºç¡€åŠŸèƒ½åˆ°é«˜çº§ç‰¹æ•ˆçš„å¼€å‘è¿‡ç¨‹ã€‚ç‰ˆæœ¬Aå¥ å®šäº†æ ¸å¿ƒæœºåˆ¶ï¼Œç‰ˆæœ¬Bå¢åŠ äº†æ¸¸æˆæ·±åº¦ï¼Œç‰ˆæœ¬Cåˆ™æä¾›äº†å®Œæ•´çš„ç”¨æˆ·ä½“éªŒã€‚æ¯ä¸ªç‰ˆæœ¬éƒ½æ˜¯åŸºäºå‰ä¸€ä¸ªç‰ˆæœ¬è¿­ä»£è€Œæ¥ï¼Œå±•ç¤ºäº†æ¸¸æˆå¼€å‘çš„æ¸è¿›å¼æ”¹è¿›ã€‚
            </div>
        </section>

        <div class="footer">
            <p>ğŸ“š è´ªåƒè›‡æ¸¸æˆå¼€å‘æ–‡æ¡£ | <a href="index.html" class="back-link">è¿”å›ä¸»æ–‡æ¡£</a></p>
            <p style="margin-top: 10px; font-size: 0.9em;">ä»åŸºç¡€åˆ°é«˜çº§ï¼Œå®Œæ•´çš„æ¸¸æˆå¼€å‘å†ç¨‹</p>
        </div>
    </div>
</body>
</html>
